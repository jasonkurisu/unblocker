<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>bro</title>
</head>
<body>
  <script>
// JavaScript and HTML code as a string
const win = window.open('about:blank');

// JavaScript and HTML code as a string
const scriptContent = `
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot; /&gt;
  &lt;title&gt;UID Access&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;script&gt;
    var nuke = false;

    const whitelist = [
      { name: &quot;Chris&quot;, uid: &quot;1234567&quot; },
      { name: &quot;Bob&quot;, uid: &quot;7654321&quot; },
      { name: &quot;Christopher&quot;, uid: &quot;9876543&quot; },
    ];

    function generateUID() {
      return Math.floor(1000000 + Math.random() * 9000000).toString();
    }

    function firstTimeSetup() {
      const name = prompt(&quot;Enter your name:&quot;);
      if (!name) {
        alert(&quot;Name is required.&quot;);
        window.close();
        return;
      }
      const uid = generateUID();
      try {
        localStorage.setItem(&quot;userName&quot;, name);
        localStorage.setItem(&quot;userUID&quot;, uid);
        alert(&quot;Your UID is: &quot; + uid + &quot;\nPlease reopen the page.&quot;);
      } catch (e) {
        alert(&quot;Error saving to localStorage: &quot; + e.message);
      }
      window.close();
    }

    function isWhitelisted(name, uid) {
      return whitelist.some(entry =&gt; entry.name === name &amp;&amp; entry.uid === uid);
    }

    function initiate22() {
      if (nuke) {
        alert(&quot;Access denied. Killswitch is active.&quot;);
        window.close();
        return;
      }

      let name, uid;
      try {
        name = localStorage.getItem(&quot;userName&quot;);
        uid = localStorage.getItem(&quot;userUID&quot;);
      } catch (e) {
        alert(&quot;LocalStorage error: &quot; + e.message);
        return;
      }

      if (!name || !uid) {
        firstTimeSetup();
        return;
      }

      if (!isWhitelisted(name, uid)) {
        alert(&quot;Access denied. You are not whitelisted.&quot;);
        window.close();
        return;
      }

      alert(&quot;Access granted to &quot; + name + &quot; with UID: &quot; + uid);

      const main = &quot;https://raw.githubusercontent.com/jasonkurisu/unblocker/refs/heads/main/index.html&quot;;
      const fallback = &quot;https://cdn.jsdelivr.net/gh/Blobby-Boi/ExtPrint3r/index.html&quot;;

      fetch(main)
        .then(response =&gt; {
          if (!response.ok) throw new Error(&quot;Primary URL failed&quot;);
          return response.text();
        })
        .catch(err =&gt; {
          alert(&quot;Primary failed: &quot; + err.message);
          return fetch(fallback).then(response =&gt; {
            if (!response.ok) throw new Error(&quot;Fallback URL failed&quot;);
            return response.text();
          }).catch(err =&gt; {
            alert(&quot;Fallback failed: &quot; + err.message);
            throw err;
          });
        })
        .then(html =&gt; {
          document.open();
          document.write(html);
          document.close();
        }).catch(err =&gt; {
          alert(&quot;Final error loading content: &quot; + err.message);
        });
    }

    initiate22();
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
`;

// Write the HTML content directly into the new window
win.document.write(scriptContent);
win.document.close();

// Encode the entire HTML content
const encodedScriptContent = encodeURIComponent(scriptContent);

// Write the encoded content to the new window
win.document.write(decodeURIComponent(encodedScriptContent));
win.document.close();
  </script>
</body>
</html>
